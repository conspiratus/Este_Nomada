
# –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫ GitHub Actions

## üìä –°—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø—É—Å–∫–æ–≤

–í—Å–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø—É—Å–∫–∏ –ø–∞–¥–∞—é—Ç —Å **exit code 1**:
- Run 39 (CI –∏ Deploy) - **failed**
- Run 38 (CI –∏ Deploy) - **failed**  
- Run 37 (CI –∏ Deploy) - **failed**
- Run 36 (CI - failed, Deploy - cancelled)
- Run 35 (CI –∏ Deploy) - **failed**

## üîç –í–µ—Ä–æ—è—Ç–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

–ù–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ workflow —Ñ–∞–π–ª–∞ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –æ—à–∏–±–æ–∫, –Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

### 1. **–û—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–π Django** (–Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–æ)
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø–∞–¥–∞—é—Ç –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
  - –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –ë–î (–Ω–µ—Ç .env —Ñ–∞–π–ª–∞ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
  - –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–π
  - –û—à–∏–±–∫–∏ –≤ SQL –º–∏–≥—Ä–∞—Ü–∏—è—Ö (–æ—Å–æ–±–µ–Ω–Ω–æ MySQL-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ)

### 2. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏ GitHub**
- –ï—Å–ª–∏ —Å–µ–∫—Ä–µ—Ç—ã –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã, workflow –Ω–µ —Å–º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ:
  - `PROD_SERVER_HOST`
  - `PROD_SERVER_USER`
  - `PROD_SERVER_PASSWORD`

### 3. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**
- –°–µ—Ä–≤–∏—Å—ã `estenomada-backend` –∏–ª–∏ `estenomada-frontend` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—É—Ç—è–º–∏

## ‚úÖ –ß—Ç–æ —É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

1. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –º–∏–≥—Ä–∞—Ü–∏–π** - —Ç–µ–ø–µ—Ä—å –¥–µ–ø–ª–æ–π –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ –º–∏–≥—Ä–∞—Ü–∏–π
2. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤** - workflow –ø—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
3. **–£–ª—É—á—à–µ–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** - –¥–æ–±–∞–≤–ª–µ–Ω –≤—ã–≤–æ–¥ –ª–æ–≥–æ–≤ –∏ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
4. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ venv** - –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è
5. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞** - –ø–æ–ø—ã—Ç–∫–∞ —Å–æ–±—Ä–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –µ—Å–ª–∏ .next –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã GitHub
```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞:
https://github.com/conspiratus/Este_Nomada/settings/secrets/actions

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å:
- PROD_SERVER_HOST = 85.190.102.101
- PROD_SERVER_USER = administrator  
- PROD_SERVER_PASSWORD = Jovi4AndMay2020!
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```bash
ssh administrator@85.190.102.101
cd /var/www/estenomada/backend
ls -la .env .env.production
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
ssh administrator@85.190.102.101
sudo systemctl status estenomada-backend
sudo systemctl status estenomada-frontend
sudo systemctl list-unit-files | grep estenomada
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–µ–ø–ª–æ—è
–í GitHub Actions –æ—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ:
- –ù–∞ –∫–∞–∫–æ–º —à–∞–≥–µ –ø–∞–¥–∞–µ—Ç
- –ö–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö
- –û—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —à–∞–≥ "Extract and deploy on server"

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ü–æ—Å–ª–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ push** –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ GitHub Actions - —Ç–∞–º –±—É–¥–µ—Ç –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
2. **–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö** - –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –∏—Ö –≤—Ä—É—á–Ω—É—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
   ```bash
   ssh administrator@85.190.102.101
   cd /var/www/estenomada/backend
   sudo -u www-data venv/bin/python manage.py migrate
   ```
3. **–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å–µ–∫—Ä–µ—Ç–∞—Ö** - –¥–æ–±–∞–≤—å—Ç–µ –∏—Ö –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
4. **–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Ö —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –°–¥–µ–ª–∞–π—Ç–µ push –∏–∑–º–µ–Ω–µ–Ω–∏–π (—É–∂–µ –≤–Ω–µ—Å–µ–Ω–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–æ–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–ª—É—á—à–µ–Ω–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ—á–Ω–æ–π –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–∫–∏

