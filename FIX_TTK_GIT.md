# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å Git –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤ —à–µ—Ñ—Å–∫–æ–º –ø–æ—Ä—Ç–∞–ª–µ

## üîç –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `git filter-branch` –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤, –∏—Å—Ç–æ—Ä–∏—è Git –±—ã–ª–∞ –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–∞. –≠—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ —Ç–æ–º—É, —á—Ç–æ:

1. **–°–µ—Ä–≤–µ—Ä–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `/var/www/estenomada/ttk_repo` –ø–æ—Ç–µ—Ä—è–ª —Å–≤—è–∑—å —Å –Ω–æ–≤–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π**
2. **–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —à–µ—Ñ—Å–∫–æ–º –ø–æ—Ä—Ç–∞–ª–µ –ø—Ä–æ–ø–∞–ª–∞** - –æ–Ω–∞ –±–æ–ª—å—à–µ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å GitHub
3. **–ö–æ–º–º–∏—Ç—ã –∏–∑–º–µ–Ω–∏–ª–∏ —Å–≤–æ–∏ —Ö–µ—à–∏**, –ø–æ—ç—Ç–æ–º—É —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –æ–±—â–∏–µ –∫–æ–º–º–∏—Ç—ã

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:

```bash
./scripts/fix_ttk_repo_after_history_rewrite.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –°–æ–∑–¥–∞—Å—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –û–±–Ω–æ–≤–∏—Ç remote —Å –Ω–æ–≤—ã–º —Ç–æ–∫–µ–Ω–æ–º
- –í—ã–ø–æ–ª–Ω–∏—Ç force fetch –Ω–æ–≤–æ–π –∏—Å—Ç–æ—Ä–∏–∏
- –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ –Ω–æ–≤—É—é –∏—Å—Ç–æ—Ä–∏—é (hard reset)
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç –Ω–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –µ—Å–ª–∏ –±—ã–ª–∏

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–ò—Å—Ç–æ—Ä–∏—è –≤ —à–µ—Ñ—Å–∫–æ–º –ø–æ—Ä—Ç–∞–ª–µ** –¥–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è
2. **–ù–æ–≤—ã–µ –∫–æ–º–º–∏—Ç—ã** –¥–æ–ª–∂–Ω—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å GitHub
3. **–§–∞–π–ª—ã ttk/** –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã

### –®–∞–≥ 3: –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –º–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
ssh administrator@85.190.102.101
cd /var/www/estenomada/ttk_repo
sudo -u www-data git status
sudo -u www-data git log --oneline -10
sudo -u www-data git remote -v
```

## üîß –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ

1. **–°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è** `scripts/fix_ttk_repo_after_history_rewrite.sh`
2. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –≤ `backend/core/git_utils.py`:
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π hard reset –ø—Ä–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–∏
   - –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è** —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- **–¢–æ–∫–µ–Ω GitHub** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- **–ù–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `git stash` –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## üö® –í–∞–∂–Ω–æ

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ Git, –≤—Å–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å–æ —Å—Ç–∞—Ä–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π, –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å. –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–ø–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –∏—Ö —Ç–æ–∂–µ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å:

```bash
git fetch origin --force
git reset --hard origin/main
```

